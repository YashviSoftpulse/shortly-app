'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');
var polarisVizCore = require('@shopify/polaris-viz-core');

function useHorizontalSeriesColors(data) {
  const selectedTheme = polarisVizCore.useTheme();
  const longestSeriesCount = React.useMemo(() => {
    return data.reduce((prev, cur) => {
      const count = cur.data.length;
      return count > prev ? count : prev;
    }, 0);
  }, [data]);
  const seriesColors = React.useMemo(() => {
    const nonComparison = data.filter(({
      isComparison
    }) => isComparison !== true);
    const seriesColors = polarisVizCore.getSeriesColors(nonComparison.length, selectedTheme);
    data.forEach(({
      color,
      isComparison
    }, index) => {
      let newColor;

      if (isComparison) {
        newColor = selectedTheme.seriesColors.comparison;
      } else if (color != null) {
        newColor = color;
      }

      if (newColor) {
        seriesColors.splice(index, 0, newColor);
      }
    });
    return seriesColors.slice(0, data.length);
  }, [data, selectedTheme]);
  return {
    longestSeriesCount,
    seriesColors
  };
}

exports.useHorizontalSeriesColors = useHorizontalSeriesColors;

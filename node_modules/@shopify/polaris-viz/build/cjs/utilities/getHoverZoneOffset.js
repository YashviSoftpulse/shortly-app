'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var polarisVizCore = require('@shopify/polaris-viz-core');
var constants = require('../constants.js');

function getHoverZoneOffset({
  barSize,
  zeroPosition,
  max,
  position
}) {
  let offset = constants.HOVER_TARGET_ZONE;
  const chartMaxSize = max - zeroPosition;
  const chartNegativeMaxSize = max - chartMaxSize;

  if (position === 'horizontal') {
    if (barSize + offset >= chartMaxSize) {
      offset = chartMaxSize - barSize;
    }
  } else if (barSize + offset >= chartNegativeMaxSize) {
    offset = chartNegativeMaxSize - barSize;
  }

  const clampedSize = polarisVizCore.clamp({
    amount: barSize + offset,
    min: barSize,
    max
  });
  return {
    clampedSize,
    offset
  };
}

exports.getHoverZoneOffset = getHoverZoneOffset;

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function eventPointNative(event) {
  const svgNode = event.currentTarget;

  if (svgNode == null) {
    return;
  }

  const screenCTM = svgNode.getScreenCTM();

  if (screenCTM == null) {
    return;
  }

  const point = svgNode.createSVGPoint();

  if (event instanceof MouseEvent) {
    point.x = event.clientX;
    point.y = event.clientY;
  } else if (event instanceof TouchEvent) {
    const touch = event.changedTouches[0];
    point.x = touch.clientX;
    point.y = touch.clientY;
  }

  const transformedSVGPoint = point.matrixTransform(screenCTM.inverse());
  return {
    clientX: point.x,
    clientY: point.y,
    svgX: transformedSVGPoint.x,
    svgY: transformedSVGPoint.y
  };
}

exports.eventPointNative = eventPointNative;

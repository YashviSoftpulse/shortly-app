'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var polarisVizCore = require('@shopify/polaris-viz-core');

function endWordTruncate({
  word,
  targetWidth,
  characterWidths
}) {
  let nextCharacterIndex = 1;
  let newWord = '';

  if (polarisVizCore.estimateStringWidth(word, characterWidths) + characterWidths.W <= targetWidth) {
    return word;
  }

  while (newWord.length < word.length && polarisVizCore.estimateStringWidth(newWord, characterWidths) + characterWidths.W < targetWidth) {
    nextCharacterIndex += 1;
    newWord = word.substring(0, nextCharacterIndex);
    newWord = `${newWord}${polarisVizCore.ELLIPSIS}`;
  }

  return newWord;
}

exports.endWordTruncate = endWordTruncate;

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');
var sortBarChartData = require('../../../utilities/sortBarChartData.js');
var useXScale = require('./useXScale.js');

function useVerticalBarChart({
  data,
  drawableWidth,
  labels
}) {
  const sortedData = sortBarChartData.sortBarChartData(labels, data);
  const areAllNegative = React.useMemo(() => {
    return ![...sortedData].reduce((prev, cur) => prev.concat(cur), []) // If one value is greater than zero,
    // bail out of the loop
    .some(num => num !== null && num > 0);
  }, [sortedData]);
  const {
    xScale,
    gapWidth
  } = useXScale.useXScale({
    drawableWidth,
    data: sortedData,
    labels
  });
  return {
    sortedData,
    areAllNegative,
    xScale,
    gapWidth
  };
}

exports.useVerticalBarChart = useVerticalBarChart;

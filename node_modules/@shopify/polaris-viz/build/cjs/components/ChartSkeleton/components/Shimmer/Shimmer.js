'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');
var polarisVizCore = require('@shopify/polaris-viz-core');
var Shimmer$1 = require('./Shimmer.scss.js');
var jsxRuntime = require('react/jsx-runtime');

function Shimmer({
  backgroundColor,
  width,
  height
}) {
  const semiTransparentBackground = polarisVizCore.changeColorOpacity(backgroundColor, 0);
  const ref = React.useRef(null);
  React.useEffect(() => {
    if (ref.current === null) return;
    ref.current.style.setProperty('--shimmerWidth', `${width}px`);
    ref.current.style.setProperty('--shimmerHeight', `${height}px`);
  }, [width, height]);
  const [min, max] = [width, height];
  const angle = Math.asin(max / min) / (Math.PI / 180);
  return /*#__PURE__*/jsxRuntime.jsx("div", {
    ref: ref,
    className: Shimmer$1["default"].Shimmer,
    style: {
      backgroundImage: `linear-gradient(-${angle}deg,
            ${semiTransparentBackground} 10%,
            ${semiTransparentBackground} 35%,
            ${backgroundColor} 50%,
            ${semiTransparentBackground} 65%,
            ${semiTransparentBackground} 100%)`
    }
  });
}

exports.Shimmer = Shimmer;

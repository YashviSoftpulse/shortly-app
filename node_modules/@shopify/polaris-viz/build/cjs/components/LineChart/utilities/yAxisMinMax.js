'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var polarisVizCore = require('@shopify/polaris-viz-core');

function yAxisMinMax(series) {
  if (series.length === 0) {
    return {
      minY: polarisVizCore.EMPTY_STATE_CHART_MIN,
      maxY: polarisVizCore.EMPTY_STATE_CHART_MAX
    };
  }

  let minY = Infinity;
  let maxY = -Infinity;
  series.forEach(({
    data
  }) => {
    data.forEach(({
      value
    }) => {
      if (value == null) {
        return;
      }

      minY = Math.min(minY, value);
      maxY = Math.max(maxY, value);
    });
  });

  if (minY === Infinity || maxY === -Infinity) {
    return {
      minY: Math.min(minY, polarisVizCore.EMPTY_STATE_CHART_MIN),
      maxY: Math.max(maxY, polarisVizCore.EMPTY_STATE_CHART_MAX)
    };
  }

  return {
    minY,
    maxY
  };
}

exports.yAxisMinMax = yAxisMinMax;

import { useChartContext, estimateStringWidth, useTheme, HORIZONTAL_GROUP_LABEL_HEIGHT, FONT_SIZE } from '@shopify/polaris-viz-core';
import styles from './GroupLabel.scss.esnext';
import { jsx } from 'react/jsx-runtime';

const LABEL_RIGHT_PADDING = 15;
function GroupLabel({
  areAllNegative,
  containerWidth,
  label,
  zeroPosition
}) {
  const {
    characterWidths
  } = useChartContext();
  const labelWidth = estimateStringWidth(label, characterWidths);
  const selectedTheme = useTheme();
  const maxWidth = areAllNegative ? labelWidth : containerWidth - zeroPosition;
  return /*#__PURE__*/jsx("foreignObject", {
    height: HORIZONTAL_GROUP_LABEL_HEIGHT,
    width: "100%",
    x: zeroPosition + (areAllNegative ? labelWidth * -1 : 0),
    "aria-hidden": "true",
    children: /*#__PURE__*/jsx("div", {
      className: styles.Label,
      style: {
        background: selectedTheme.chartContainer.backgroundColor,
        fontSize: `${FONT_SIZE}px`,
        color: selectedTheme.yAxis.labelColor,
        maxWidth,
        height: HORIZONTAL_GROUP_LABEL_HEIGHT,
        width: labelWidth + LABEL_RIGHT_PADDING
      },
      children: label
    })
  });
}

export { GroupLabel };

import { useMemo } from 'react';
import { uniqueId } from '@shopify/polaris-viz-core';
import { jsx } from 'react/jsx-runtime';
import { getYAxisOptionsWithDefaults } from '../../../../utilities/getAxisOptions.esnext';
import { useVerticalBarChart } from '../../../VerticalBarChart/hooks/useVerticalBarChart.esnext';
import { VerticalBarGroup } from '../../../VerticalBarChart/components/VerticalBarGroup/VerticalBarGroup.esnext';

function ComboBarChart({
  colors,
  data,
  drawableHeight,
  drawableWidth,
  indexOffset,
  labels,
  yScale
}) {
  const id = useMemo(() => uniqueId('ComboBarChart'), []);
  const yAxisOptionsWithDefaults = getYAxisOptionsWithDefaults(data.yAxisOptions);
  const {
    sortedData,
    xScale,
    gapWidth
  } = useVerticalBarChart({
    data: data.series,
    drawableWidth,
    labels
  });
  return /*#__PURE__*/jsx(VerticalBarGroup, {
    colors: colors,
    data: data.series,
    drawableHeight: drawableHeight,
    gapWidth: gapWidth,
    id: id,
    indexOffset: indexOffset,
    labels: labels,
    sortedData: sortedData,
    stackedValues: null,
    xScale: xScale,
    yAxisOptions: yAxisOptionsWithDefaults,
    yScale: yScale
  });
}

export { ComboBarChart };
